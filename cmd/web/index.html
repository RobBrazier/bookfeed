<!DOCTYPE html>
<html lang="en">

<head>
	<title>Hardcover RSS Feed Generator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="/static/style.css">
	<script src="/static/alpine.min.js" defer></script>
</head>

<body>
	<header class="header">
		<div class="container">
			<h1>Hardcover RSS Feeds</h1>
			<p>Generate RSS feeds for Hardcover.app releases</p>
		</div>
	</header>
	<main class="main container">
		<section class="card">
			<h2>Recent Releases</h2>
			<p>
				Equivalent to the list on
				<a href="https://hardcover.app/upcoming/recent" target="_blank" class="link">
					upcoming/recent
				</a>
				on Hardcover.app
			</p>
			<div class="space-y-3">
				<template x-data x-for="format in ['rss', 'atom', 'json']" :key="format">
					<div class="input-group">
						<input type="text" readonly x-bind:value="`${window.location.origin}/recent.${format}`"
							:id="`recent-${format}`" @click="$event.target.select()" class="form-input">
						<button class="btn copy-btn" @click="navigator.clipboard.writeText(`${window.location.origin}/recent.${format}`).then(() => { 
									document.getElementById('notification').classList.add('show'); 
									setTimeout(() => document.getElementById('notification').classList.remove('show'), 2000);
								})">
							Copy <span x-text="format.toUpperCase()"></span>
						</button>
					</div>
				</template>
			</div>
		</section>

		<section class="card" x-data="{ author: '' }">
			<h2>Author Releases</h2>
			<div class="form-group">
				<label for="author">Author Slug</label>
				<input type="text" id="author" placeholder="e.g. brandon-sanderson" x-model="author"
					class="form-control">
			</div>
			<div class="space-y-3" x-show="author">
				<template x-for="format in ['rss', 'atom', 'json']" :key="format">
					<div class="input-group">
						<input type="text" readonly
							x-bind:value="author ? `${window.location.origin}/author/${author}.${format}` : ''"
							:id="`author-${format}`" @click="$event.target.select()" class="form-input">
						<button class="btn copy-btn" @click="navigator.clipboard.writeText(author ? `${window.location.origin}/author/${author}.${format}` : '').then(() => { 
									document.getElementById('notification').classList.add('show'); 
									setTimeout(() => document.getElementById('notification').classList.remove('show'), 2000);
								})">
							Copy <span x-text="format.toUpperCase()"></span>
						</button>
					</div>
				</template>
			</div>
		</section>

		<section class="card" x-data="{ series: '' }">
			<h2>Series Releases</h2>
			<div class="form-group">
				<label for="series">Series Slug</label>
				<input type="text" id="series" placeholder="e.g. dungeon-crawler-carl" x-model="series"
					class="form-control">
			</div>
			<div class="space-y-3" x-show="series">
				<template x-for="format in ['rss', 'atom', 'json']" :key="format">
					<div class="input-group">
						<input type="text" readonly
							x-bind:value="series ? `${window.location.origin}/series/${series}.${format}` : ''"
							:id="`series-${format}`" @click="$event.target.select()" class="form-input">
						<button class="btn copy-btn" @click="navigator.clipboard.writeText(series ? `${window.location.origin}/series/${series}.${format}` : '').then(() => { 
									document.getElementById('notification').classList.add('show'); 
									setTimeout(() => document.getElementById('notification').classList.remove('show'), 2000);
								})">
							Copy <span x-text="format.toUpperCase()"></span>
						</button>
					</div>
				</template>
			</div>
		</section>

		<div id="notification" class="notification">
			Copied to clipboard!
		</div>
	</main>
	<footer class="footer container">
		<p>Generated by Hardcover RSS Feed Generator</p>
	</footer>
</body>

</html>
